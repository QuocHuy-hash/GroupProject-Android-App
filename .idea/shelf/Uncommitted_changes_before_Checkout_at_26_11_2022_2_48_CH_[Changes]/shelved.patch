Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">Chợ tốt 2</string>\r\n    <string name=\"register\">Đăng kí</string>\r\n    <string name=\"login\">Đăng nhập</string>\r\n    <string name=\"reset_password\">Bạn quên mật khẩu?</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n\r\n\r\n    <string name=\"facebook_app_id\">692535855718075</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb692535855718075</string>\r\n    <!--    <string name=\"facebook_app_id1\">839074010751429</string>-->\r\n    <!--    <string name=\"fb_login_protocol_scheme1\">fb839074010751429</string>-->\r\n    <string name=\"facebook_client_token\">56789</string>\r\n\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ b/app/src/main/res/values/strings.xml	(date 1669448779454)
@@ -9,8 +9,7 @@
 
     <string name="facebook_app_id">692535855718075</string>
     <string name="fb_login_protocol_scheme">fb692535855718075</string>
-    <!--    <string name="facebook_app_id1">839074010751429</string>-->
-    <!--    <string name="fb_login_protocol_scheme1">fb839074010751429</string>-->
+
     <string name="facebook_client_token">56789</string>
 
 
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/shelved.patch	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ /dev/null	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
@@ -1,99 +0,0 @@
-Index: app/src/main/res/layout/item_slider.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n<ImageView\r\n    android:id=\"@+id/img_slide\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"230dp\"\r\n    android:src=\"@drawable/img_slider1\"\r\n    android:scaleType=\"centerCrop\"\r\n    />\r\n</LinearLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_slider.xml b/app/src/main/res/layout/item_slider.xml
---- a/app/src/main/res/layout/item_slider.xml	(revision fdc25982840bcfcdfea627a90481e16383b2c9b0)
-+++ b/app/src/main/res/layout/item_slider.xml	(date 1668831216409)
-@@ -3,11 +3,11 @@
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     android:layout_width="match_parent"
-     android:layout_height="match_parent">
--<ImageView
--    android:id="@+id/img_slide"
--    android:layout_width="match_parent"
--    android:layout_height="230dp"
--    android:src="@drawable/img_slider1"
--    android:scaleType="centerCrop"
--    />
-+
-+    <ImageView
-+        android:id="@+id/img_slide"
-+        android:layout_width="match_parent"
-+        android:layout_height="230dp"
-+        android:scaleType="centerCrop"
-+        android:src="@drawable/img_slider1" />
- </LinearLayout>
-\ No newline at end of file
-Index: app/src/main/res/layout/fragment_trang_chu.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Fragment.FragmentTrangChu\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@color/white\"\r\n    >\r\n\r\n    <androidx.viewpager.widget.ViewPager\r\n        android:id=\"@+id/viewPager_slide\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"220dp\"/>\r\n    <me.relex.circleindicator.CircleIndicator\r\n        android:id=\"@+id/circle_indicator\"\r\n        android:layout_width=\"100dp\"\r\n        android:layout_height=\"30dp\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:layout_marginTop=\"5dp\"\r\n    />\r\n\r\n<HorizontalScrollView\r\n    android:id=\"@+id/scrollView\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    >\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\">\r\n    <LinearLayout\r\n        android:layout_width=\"120dp\"\r\n        android:layout_height=\"120dp\"\r\n        android:orientation=\"vertical\"\r\n        android:gravity=\"center_horizontal\"\r\n        >\r\n        <ImageView\r\n            android:layout_width=\"45dp\"\r\n            android:layout_height=\"45dp\"\r\n            android:src=\"@drawable/transport\"/>\r\n        <TextView\r\n            android:layout_width=\"120dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:gravity=\"center\"\r\n            android:textColor=\"#020202\"\r\n            android:text=\"Miễn phí vận chuyển\"\r\n            android:textSize=\"16dp\"/>\r\n    </LinearLayout>\r\n        <!-- 2-->\r\n        <LinearLayout\r\n            android:layout_width=\"120dp\"\r\n            android:layout_height=\"120dp\"\r\n            android:orientation=\"vertical\"\r\n            android:gravity=\"center_horizontal\"\r\n            >\r\n            <ImageView\r\n                android:layout_width=\"45dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:src=\"@drawable/tin_da_luu\"/>\r\n            <TextView\r\n                android:layout_width=\"100dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:gravity=\"center\"\r\n                android:textColor=\"#020202\"\r\n                android:text=\"Tin đăng đã lưu\"\r\n                android:textSize=\"16dp\"/>\r\n        </LinearLayout>\r\n<!--        3-->\r\n        <LinearLayout\r\n            android:layout_width=\"100dp\"\r\n            android:layout_height=\"120dp\"\r\n            android:orientation=\"vertical\"\r\n            android:gravity=\"center_horizontal\"\r\n            >\r\n            <ImageView\r\n                android:layout_width=\"45dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:src=\"@drawable/danh_gia\"/>\r\n            <TextView\r\n                android:layout_width=\"90dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:gravity=\"center\"\r\n                android:textColor=\"#020202\"\r\n                android:text=\"Đánh giá từ tôi\"\r\n                android:textSize=\"16dp\"/>\r\n        </LinearLayout>\r\n<!--        4-->\r\n        <LinearLayout\r\n            android:layout_width=\"120dp\"\r\n            android:layout_height=\"120dp\"\r\n            android:orientation=\"vertical\"\r\n            android:gravity=\"center_horizontal\"\r\n            >\r\n            <ImageView\r\n                android:layout_width=\"45dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:src=\"@drawable/history_search\"/>\r\n            <TextView\r\n                android:layout_width=\"100dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:gravity=\"center\"\r\n                android:textColor=\"#020202\"\r\n                android:text=\"Tìm kiếm đã lưu\"\r\n                android:textSize=\"16dp\"/>\r\n        </LinearLayout>\r\n<!--        5-->\r\n        <LinearLayout\r\n            android:layout_width=\"120dp\"\r\n            android:layout_height=\"120dp\"\r\n            android:orientation=\"vertical\"\r\n            android:gravity=\"center_horizontal\"\r\n            >\r\n            <ImageView\r\n                android:layout_width=\"45dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:src=\"@drawable/history_search\"/>\r\n            <TextView\r\n                android:layout_width=\"90dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:gravity=\"center\"\r\n                android:textColor=\"#020202\"\r\n                android:text=\"Chia sẻ\"\r\n                android:textSize=\"16dp\"/>\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n</HorizontalScrollView>\r\n\r\n</LinearLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_trang_chu.xml b/app/src/main/res/layout/fragment_trang_chu.xml
---- a/app/src/main/res/layout/fragment_trang_chu.xml	(revision fdc25982840bcfcdfea627a90481e16383b2c9b0)
-+++ b/app/src/main/res/layout/fragment_trang_chu.xml	(date 1668787837008)
-@@ -23,6 +23,7 @@
- <HorizontalScrollView
-     android:id="@+id/scrollView"
-     android:layout_width="match_parent"
-+    android:scrollbars="none"
-     android:layout_height="wrap_content"
-     >
-     <LinearLayout
-@@ -126,9 +127,30 @@
-                 android:gravity="center"
-                 android:textColor="#020202"
-                 android:text="Chia sẻ"
-+                android:textSize="16dp"/>
-+        </LinearLayout>
-+<!--        6-->
-+        <LinearLayout
-+            android:layout_width="120dp"
-+            android:layout_height="120dp"
-+            android:orientation="vertical"
-+            android:gravity="center_horizontal"
-+            >
-+            <ImageView
-+                android:layout_width="45dp"
-+                android:layout_height="45dp"
-+                android:src="@drawable/img_vong_quay"/>
-+            <TextView
-+                android:layout_width="90dp"
-+                android:layout_height="wrap_content"
-+                android:layout_marginTop="5dp"
-+                android:gravity="center"
-+                android:textColor="#020202"
-+                android:text="Vòng quay may mắn"
-                 android:textSize="16dp"/>
-         </LinearLayout>
-     </LinearLayout>
- </HorizontalScrollView>
- 
-+
- </LinearLayout>
-\ No newline at end of file
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/bg_button_login.xml\" value=\"0.142\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/bg_button_register.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/bg_overlay.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/ic_baseline_add_24.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/ic_baseline_home_24.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/ic_baseline_more_horiz_24.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/ic_baseline_newspaper_24.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/ic_baseline_shopping_basket_24.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/drawable/transparent_background.xml\" value=\"0.128\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_dang_tin.xml\" value=\"0.17028985507246377\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_login.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_main.xml\" value=\"0.17028985507246377\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_register.xml\" value=\"0.25\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_splash_screen.xml\" value=\"0.17028985507246377\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/fragment_trang_chu.xml\" value=\"0.13541666666666666\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/item_slider.xml\" value=\"0.26277372262773724\" />\r\n        <entry key=\"..\\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/slider_item_layout.xml\" value=\"0.17028985507246377\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"Android Studio default JDK\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/misc.xml b/.idea/misc.xml
---- a/.idea/misc.xml	(revision fdc25982840bcfcdfea627a90481e16383b2c9b0)
-+++ b/.idea/misc.xml	(date 1668831216755)
-@@ -18,7 +18,7 @@
-         <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_register.xml" value="0.25" />
-         <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/activity_splash_screen.xml" value="0.17028985507246377" />
-         <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/fragment_trang_chu.xml" value="0.13541666666666666" />
--        <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/item_slider.xml" value="0.26277372262773724" />
-+        <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/item_slider.xml" value="0.2" />
-         <entry key="..\:/FPT_HoangQuocHuy/Du_An_1(LTMT)/QLDA_android1/app/src/main/res/layout/slider_item_layout.xml" value="0.17028985507246377" />
-       </map>
-     </option>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM__Changes_.xml	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ /dev/null	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]" date="1668832838781" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/19/2022 11:40 AM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable-v24/img_vong_quay.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_19_2022_11_40_AM_[Changes]/img_vong_quay.png" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: app/src/main/java/com/example/duan1/Fragment/FragmentThem.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.duan1.Fragment;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.os.Handler;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.duan1.Account;\r\nimport com.example.duan1.Login;\r\nimport com.example.duan1.MainActivity;\r\nimport com.example.duan1.R;\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.GraphRequest;\r\nimport com.facebook.GraphResponse;\r\nimport com.facebook.login.LoginManager;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\n\r\npublic class FragmentThem extends Fragment implements NavigationView.OnNavigationItemSelectedListener{\r\n\r\n    private ImageView imgLoginRegister;\r\n    private TextView tvEmail;\r\n\r\n    private MainActivity mainActivity;\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseUser currentUser;\r\n    private NavigationView nav;\r\n    private ProgressDialog progressDialog;\r\n    private AccessToken accessToken = AccessToken.getCurrentAccessToken();\r\n    boolean isLoggedIn = accessToken != null && !accessToken.isExpired();\r\n\r\n    private ActivityResultLauncher<Intent> mActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback<ActivityResult>() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n\r\n                    if (result.getResultCode() == RESULT_OK){\r\n                        boolean isLoggedIn = accessToken != null && !accessToken.isExpired();\r\n                        if (isLoggedIn){\r\n                            Restart();\r\n                        }else{\r\n                            Intent intent = result.getData();\r\n                            String strName = \"\";\r\n                            String strImage = \"\";\r\n                            if (intent != null){\r\n                                strName = intent.getStringExtra(\"name\");\r\n                                strImage = intent.getStringExtra(\"image\");\r\n                                Picasso.with(mainActivity)\r\n                                        .load(strImage)\r\n                                        .resize(60,60)\r\n                                        .placeholder(R.mipmap.ic_launcher)\r\n                                        .error(R.mipmap.ic_launcher)\r\n                                        .into(imgLoginRegister);\r\n                            }\r\n                            tvEmail.setText(strName);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_them, container, false);\r\n        mainActivity = (MainActivity) getActivity();\r\n        initUi(view);\r\n\r\n        nav.setItemIconTintList(null);\r\n        nav.setNavigationItemSelectedListener((NavigationView.OnNavigationItemSelectedListener) this );\r\n\r\n        initListenerClick();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void initUi(View view) {\r\n        imgLoginRegister = view.findViewById(R.id.img_login_register);\r\n        tvEmail = view.findViewById(R.id.tvEmail);\r\n        nav = view.findViewById(R.id.nav_them);\r\n\r\n        progressDialog = new ProgressDialog(mainActivity);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n    private void initListenerClick() {\r\n        imgLoginRegister.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                //check đã đăng nhập hay chưa\r\n                currentUser = mAuth.getCurrentUser();\r\n                // Check if user is signed in (non-null) and update UI accordingly.\r\n                if(currentUser != null || isLoggedIn){\r\n                    startActivity(new Intent(mainActivity, Account.class));\r\n                }else {\r\n                    mActivityResultLauncher.launch(new Intent(mainActivity, Login.class));\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        int id = item.getItemId();\r\n\r\n        if(id == R.id.logout){\r\n            progressDialog.setTitle(\"Đang đăng xuất...\");\r\n            progressDialog.show();\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    progressDialog.dismiss();\r\n                    FirebaseAuth.getInstance().signOut();\r\n                    LoginManager.getInstance().logOut();\r\n                    Toast.makeText(mainActivity, \"Đăng xuất thành công\", Toast.LENGTH_SHORT).show();\r\n                    Restart();\r\n\r\n                }\r\n            }, 2000);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void Restart(){\r\n        FragmentManager fragmentManager;\r\n        fragmentManager = mainActivity.getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction1 = fragmentManager.beginTransaction();\r\n        fragmentTransaction1.replace(R.id.container, new FragmentThem());\r\n        fragmentTransaction1.detach(FragmentThem.this);\r\n        fragmentTransaction1.commit();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        if (isLoggedIn){\r\n            getProfileUser();\r\n        }else{\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            updateUI(currentUser);\r\n        }\r\n\r\n    }\r\n\r\n    private void updateUI(FirebaseUser currentUser) {\r\n        currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            tvEmail.setText(currentUser.getDisplayName());\r\n            String strImage = String.valueOf(currentUser.getPhotoUrl());\r\n            Picasso.with(mainActivity)\r\n                    .load(strImage)\r\n                    .placeholder(R.mipmap.ic_launcher)\r\n                    .error(R.mipmap.ic_launcher)\r\n                    .into(imgLoginRegister);\r\n        }\r\n    }\r\n\r\n    private void getProfileUser() {\r\n\r\n        GraphRequest request = GraphRequest.newMeRequest(\r\n                accessToken,\r\n                new GraphRequest.GraphJSONObjectCallback() {\r\n                    @Override\r\n                    public void onCompleted(JSONObject object, GraphResponse response) {\r\n                                try {\r\n                                    String fullName = object.getString(\"name\");\r\n                                    String image = object.getJSONObject(\"picture\").getJSONObject(\"data\").getString(\"url\");\r\n\r\n                                    tvEmail.setText(fullName);\r\n                                    Picasso.with(mainActivity)\r\n                                            .load(image)\r\n                                            .placeholder(R.mipmap.ic_launcher)\r\n                                            .error(R.mipmap.ic_launcher)\r\n                                            .into(imgLoginRegister);\r\n\r\n                                } catch (JSONException e) {\r\n                                    Toast.makeText(mainActivity, \"Lỗi login fb\", Toast.LENGTH_SHORT).show();\r\n                                }\r\n\r\n                    }\r\n                });\r\n\r\n        Bundle parameters = new Bundle();\r\n        parameters.putString(\"fields\", \"id,name,link,picture.type(large)\");\r\n        request.setParameters(parameters);\r\n        request.executeAsync();\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/duan1/Fragment/FragmentThem.java b/app/src/main/java/com/example/duan1/Fragment/FragmentThem.java
--- a/app/src/main/java/com/example/duan1/Fragment/FragmentThem.java	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ b/app/src/main/java/com/example/duan1/Fragment/FragmentThem.java	(date 1669448709274)
@@ -54,35 +54,15 @@
     private FirebaseUser currentUser;
     private NavigationView nav;
     private ProgressDialog progressDialog;
-    private AccessToken accessToken = AccessToken.getCurrentAccessToken();
-    boolean isLoggedIn = accessToken != null && !accessToken.isExpired();
+    AccessToken accessToken = AccessToken.getCurrentAccessToken();
+
 
     private ActivityResultLauncher<Intent> mActivityResultLauncher = registerForActivityResult(
             new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback<ActivityResult>() {
                 @Override
                 public void onActivityResult(ActivityResult result) {
-
                     if (result.getResultCode() == RESULT_OK){
-                        boolean isLoggedIn = accessToken != null && !accessToken.isExpired();
-                        if (isLoggedIn){
                             Restart();
-                        }else{
-                            Intent intent = result.getData();
-                            String strName = "";
-                            String strImage = "";
-                            if (intent != null){
-                                strName = intent.getStringExtra("name");
-                                strImage = intent.getStringExtra("image");
-                                Picasso.with(mainActivity)
-                                        .load(strImage)
-                                        .resize(60,60)
-                                        .placeholder(R.mipmap.ic_launcher)
-                                        .error(R.mipmap.ic_launcher)
-                                        .into(imgLoginRegister);
-                            }
-                            tvEmail.setText(strName);
-                        }
-
                     }
                 }
             });
@@ -113,12 +93,11 @@
 
     private void initListenerClick() {
         imgLoginRegister.setOnClickListener(new View.OnClickListener() {
-
-
             @Override
             public void onClick(View view) {
                 //check đã đăng nhập hay chưa
                 currentUser = mAuth.getCurrentUser();
+                boolean isLoggedIn = accessToken != null && !accessToken.isExpired();
                 // Check if user is signed in (non-null) and update UI accordingly.
                 if(currentUser != null || isLoggedIn){
                     startActivity(new Intent(mainActivity, Account.class));
@@ -137,6 +116,7 @@
         int id = item.getItemId();
 
         if(id == R.id.logout){
+
             progressDialog.setTitle("Đang đăng xuất...");
             progressDialog.show();
             Handler handler = new Handler();
@@ -170,7 +150,9 @@
     public void onStart() {
         super.onStart();
 
+        boolean isLoggedIn = accessToken != null && !accessToken.isExpired();
         // Check if user is signed in (non-null) and update UI accordingly.
+
         if (isLoggedIn){
             getProfileUser();
         }else{
@@ -180,10 +162,16 @@
 
     }
 
+    @Override
+    public void onDestroy() {
+        super.onDestroy();
+        LoginManager.getInstance().logOut();
+    }
+
     private void updateUI(FirebaseUser currentUser) {
         currentUser = mAuth.getCurrentUser();
         if(currentUser != null){
-            tvEmail.setText(currentUser.getDisplayName());
+            tvEmail.setText(currentUser.getEmail());
             String strImage = String.valueOf(currentUser.getPhotoUrl());
             Picasso.with(mainActivity)
                     .load(strImage)
@@ -194,7 +182,7 @@
     }
 
     private void getProfileUser() {
-
+        AccessToken accessToken = AccessToken.getCurrentAccessToken();
         GraphRequest request = GraphRequest.newMeRequest(
                 accessToken,
                 new GraphRequest.GraphJSONObjectCallback() {
Index: app/src/main/java/com/example/duan1/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.duan1;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.view.Gravity;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.duan1.Fragment.FragmentDaoCho;\r\nimport com.example.duan1.Fragment.FragmentQuanLiTin;\r\nimport com.example.duan1.Fragment.FragmentThem;\r\nimport com.example.duan1.Fragment.FragmentTrangChu;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    BottomNavigationView bottomNavigationView;\r\n    FloatingActionButton floatingActionButton;\r\n\r\n    FragmentManager fragmentManager;\r\n    FragmentTrangChu fragmentTrangChu = new FragmentTrangChu();\r\n    FragmentQuanLiTin fragmentQuanLiTin = new FragmentQuanLiTin();\r\n    FragmentDaoCho fragmentDaoCho = new FragmentDaoCho();\r\n    FragmentThem fragmentThem = new FragmentThem();\r\n\r\n\r\n    @SuppressLint(\"MissingInflatedId\")\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        initUi();\r\n\r\n\r\n\r\n        floatingActionButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showDialogChooseListProduct();\r\n            }\r\n        });\r\n\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case R.id.home:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.container, fragmentTrangChu).commit();\r\n                        return true;\r\n\r\n                    case R.id.believe:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.container, fragmentQuanLiTin).commit();\r\n                        return true;\r\n\r\n                    case R.id.fab:\r\n                        return true;\r\n\r\n                    case R.id.market:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.container, fragmentDaoCho).commit();\r\n                        return true;\r\n\r\n                    case R.id.more:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.container, fragmentThem).commit();\r\n                        return true;\r\n                }\r\n\r\n                return false;\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    private void showDialogChooseListProduct() {\r\n        final Dialog dialog = new Dialog(this);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.layout_dialog_chon_danh_muc);\r\n\r\n        Window window = dialog.getWindow();\r\n        if(window == null) {\r\n            return;\r\n        }\r\n        window.setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT);\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\r\n        WindowManager.LayoutParams windowAttributes = window.getAttributes();\r\n        windowAttributes.gravity = Gravity.BOTTOM;\r\n        window.setAttributes(windowAttributes);\r\n\r\n        RelativeLayout layout_batDongSan = dialog.findViewById(R.id.layout_batDongSan);\r\n        RelativeLayout layout_XeCo = dialog.findViewById(R.id.layout_XeCo);\r\n        RelativeLayout layout_thoiTrang = dialog.findViewById(R.id.layout_thoiTrang);\r\n        RelativeLayout layout_dienTu = dialog.findViewById(R.id.layout_dienTu);\r\n        RelativeLayout layout_giaiTri = dialog.findViewById(R.id.layout_giaiTri);\r\n        RelativeLayout layout_dienGiaDung = dialog.findViewById(R.id.layout_dienGiaDung);\r\n        ImageView icon_close = dialog.findViewById(R.id.icon_close);\r\n\r\n        icon_close.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n        layout_giaiTri.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucGiaiTriActivity.class));\r\n            }\r\n        });\r\n        layout_dienGiaDung.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucDienMayActivity.class));\r\n\r\n            }\r\n        });\r\n        layout_batDongSan.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, \"danh mục batDongSan\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucBDSActivity.class));\r\n            }\r\n        });\r\n        layout_XeCo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucXeCoActivity.class));\r\n\r\n            }\r\n        });\r\n        layout_thoiTrang.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucThoiTrangAcrivity.class));\r\n\r\n            }\r\n        });\r\n        layout_dienTu.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext() , chonDanhMucDoDienTuActivity.class));\r\n\r\n            }\r\n        });\r\n        dialog.show();\r\n    }\r\n\r\n\r\n    private void initUi() {\r\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        floatingActionButton = findViewById(R.id.fab);\r\n\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.container, fragmentTrangChu).commit();\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/duan1/MainActivity.java b/app/src/main/java/com/example/duan1/MainActivity.java
--- a/app/src/main/java/com/example/duan1/MainActivity.java	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ b/app/src/main/java/com/example/duan1/MainActivity.java	(date 1669448754355)
@@ -31,7 +31,6 @@
     BottomNavigationView bottomNavigationView;
     FloatingActionButton floatingActionButton;
 
-    FragmentManager fragmentManager;
     FragmentTrangChu fragmentTrangChu = new FragmentTrangChu();
     FragmentQuanLiTin fragmentQuanLiTin = new FragmentQuanLiTin();
     FragmentDaoCho fragmentDaoCho = new FragmentDaoCho();
Index: app/src/main/java/com/example/duan1/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.duan1;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.appevents.AppEventsLogger;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\n\r\nimport java.util.Arrays;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class Login extends AppCompatActivity {\r\n\r\n    private ImageView imgBack;\r\n    private CircleImageView imgLoginFacebook, imgLoginGoole, imgLoginZalo;\r\n    private TextView tvResetPassword, tvRegister;\r\n    private EditText edtNumberPhone, edtPassword;\r\n    private Button btnLogin;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private ProgressDialog progressDialog;\r\n    CallbackManager callbackManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        initUi();\r\n\r\n        callbackManager = CallbackManager.Factory.create();\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback<LoginResult>() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n//                        handleFacebookAccessToken(loginResult.getAccessToken());\r\n                        Toast.makeText(Login.this, \"Đăng nhập thành công!\", Toast.LENGTH_SHORT).show();\r\n                        Intent intent = new Intent(Login.this, MainActivity.class);\r\n//                                FirebaseUser currentUser = mAuth.getCurrentUser();\r\n//                                String name = currentUser.getDisplayName();\r\n//                                String image = String.valueOf(currentUser.getPhotoUrl());\r\n//                                intent.putExtra(\"name\",name );\r\n//                                intent.putExtra(\"image\", image);\r\n                        setResult(RESULT_OK,intent );\r\n                        finish();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancel() {\r\n                        // App code\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(FacebookException exception) {\r\n                        // App code\r\n                    }\r\n                });\r\n\r\n        initListenerClick();\r\n\r\n\r\n    }\r\n\r\n    private void initUi() {\r\n        imgBack = findViewById(R.id.img_back);\r\n        imgLoginFacebook = findViewById(R.id.img_login_facebook);\r\n        imgLoginGoole = findViewById(R.id.img_login_google);\r\n        imgLoginZalo = findViewById(R.id.img_login_zalo);\r\n        tvResetPassword = findViewById(R.id.tv_reset_password);\r\n        tvRegister = findViewById(R.id.tv_register);\r\n        edtNumberPhone = findViewById(R.id.edt_numberphone);\r\n        edtPassword = findViewById(R.id.edt_password);\r\n        btnLogin = findViewById(R.id.btn_login);\r\n\r\n        // Initialize Firebase Auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n        progressDialog = new ProgressDialog(this);\r\n\r\n    }\r\n\r\n    private void initListenerClick() {\r\n        //click back\r\n        imgBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code back\r\n                finish();\r\n            }\r\n        });\r\n\r\n        //click login facebook\r\n        imgLoginFacebook.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code login facebook\r\n                LoginManager.getInstance().logInWithReadPermissions(Login.this, Arrays.asList(\"public_profile\"));\r\n            }\r\n        });\r\n\r\n        //click login google\r\n        imgLoginGoole.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code login google\r\n                Toast.makeText(Login.this, \"Login google from Login\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        //click login zalo\r\n        imgLoginZalo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code login zalo\r\n                Toast.makeText(Login.this, \"Login zalo from Login\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        //click reset password\r\n        tvResetPassword.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code reset password\r\n                Toast.makeText(Login.this, \"reset Password from Login\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        //click register\r\n        tvRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code register\r\n                startActivity(new Intent(Login.this, Register.class));\r\n            }\r\n        });\r\n\r\n        //click login\r\n        btnLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //code login\r\n\r\n                String email = edtNumberPhone.getText().toString().trim();\r\n                if (edtNumberPhone == null || email.isEmpty()){\r\n                    edtNumberPhone.setError(\"Email không được để trống!\");\r\n                    return;\r\n                }\r\n                String password = edtPassword.getText().toString().trim();\r\n                if (edtPassword == null || password.isEmpty()){\r\n                    edtPassword.setError(\"Mật khẩu không được để trống!\");\r\n                }else if (password.length() < 6 ){\r\n                    edtPassword.setError(\"Mật khẩu phải bằng hoặc trên 6 kí tự\");\r\n                    return;\r\n                }\r\n                progressDialog.setTitle(\"Xin chờ!\");\r\n                progressDialog.show();\r\n\r\n                mAuth.signInWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(Login.this, new OnCompleteListener<AuthResult>() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task<AuthResult> task) {\r\n\r\n                                Handler handler = new Handler();\r\n                                handler.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        if (task.isSuccessful()) {\r\n                                            // Sign in success, update UI with the signed-in user's information\r\n                                            Toast.makeText(Login.this, \"Đăng nhập thành công!\", Toast.LENGTH_SHORT).show();\r\n                                            Intent intent = new Intent(Login.this, MainActivity.class);\r\n                                            intent.putExtra(\"name\", email);\r\n                                            setResult(RESULT_OK,intent );\r\n                                            finish();\r\n                                        } else {\r\n                                            // If sign in fails, display a message to the user.\r\n                                            Toast.makeText(Login.this, \"Đăng nhập thất bại!\", Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    }\r\n                                },2000);\r\n                            }\r\n                        });\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void handleFacebookAccessToken(AccessToken token) {\r\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user's information\r\n\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(Login.this, \"Authentication failed.\",\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // Pass the activity result back to the Facebook SDK\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/duan1/Login.java b/app/src/main/java/com/example/duan1/Login.java
--- a/app/src/main/java/com/example/duan1/Login.java	(revision e643a6090f9997f9ebf07a8c626aceb5cad42312)
+++ b/app/src/main/java/com/example/duan1/Login.java	(date 1669448754366)
@@ -46,7 +46,6 @@
     private Button btnLogin;
 
     private FirebaseAuth mAuth;
-    private ProgressDialog progressDialog;
     CallbackManager callbackManager;
 
     @Override
@@ -60,14 +59,8 @@
                 new FacebookCallback<LoginResult>() {
                     @Override
                     public void onSuccess(LoginResult loginResult) {
-//                        handleFacebookAccessToken(loginResult.getAccessToken());
                         Toast.makeText(Login.this, "Đăng nhập thành công!", Toast.LENGTH_SHORT).show();
                         Intent intent = new Intent(Login.this, MainActivity.class);
-//                                FirebaseUser currentUser = mAuth.getCurrentUser();
-//                                String name = currentUser.getDisplayName();
-//                                String image = String.valueOf(currentUser.getPhotoUrl());
-//                                intent.putExtra("name",name );
-//                                intent.putExtra("image", image);
                         setResult(RESULT_OK,intent );
                         finish();
                     }
@@ -101,7 +94,6 @@
 
         // Initialize Firebase Auth
         mAuth = FirebaseAuth.getInstance();
-        progressDialog = new ProgressDialog(this);
 
     }
 
@@ -166,6 +158,8 @@
             public void onClick(View view) {
                 //code login
 
+                ProgressDialog progressDialog = new ProgressDialog(Login.this);
+
                 String email = edtNumberPhone.getText().toString().trim();
                 if (edtNumberPhone == null || email.isEmpty()){
                     edtNumberPhone.setError("Email không được để trống!");
@@ -178,7 +172,8 @@
                     edtPassword.setError("Mật khẩu phải bằng hoặc trên 6 kí tự");
                     return;
                 }
-                progressDialog.setTitle("Xin chờ!");
+
+                progressDialog.setTitle("xin chờ");
                 progressDialog.show();
 
                 mAuth.signInWithEmailAndPassword(email, password)
@@ -194,7 +189,6 @@
                                             // Sign in success, update UI with the signed-in user's information
                                             Toast.makeText(Login.this, "Đăng nhập thành công!", Toast.LENGTH_SHORT).show();
                                             Intent intent = new Intent(Login.this, MainActivity.class);
-                                            intent.putExtra("name", email);
                                             setResult(RESULT_OK,intent );
                                             finish();
                                         } else {
@@ -211,23 +205,6 @@
 
     }
 
-    private void handleFacebookAccessToken(AccessToken token) {
-        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
-        mAuth.signInWithCredential(credential)
-                .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {
-                    @Override
-                    public void onComplete(@NonNull Task<AuthResult> task) {
-                        if (task.isSuccessful()) {
-                            // Sign in success, update UI with the signed-in user's information
-
-                        } else {
-                            // If sign in fails, display a message to the user.
-                            Toast.makeText(Login.this, "Authentication failed.",
-                                    Toast.LENGTH_SHORT).show();
-                        }
-                    }
-                });
-    }
 
     @Override
     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
